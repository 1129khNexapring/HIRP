<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ScheduleMapper">
	<resultMap type="Schedule" id="scheduleResultMap">
		<id property="scheduleNo" column="SCHEDULE_NO"/>
		<result property="emplId" column="EMPL_ID"/>
		<result property="scheduleCategory" column="SCHEDULE_CATEGORY"/>
		<result property="scheduleTitle" column="SCHEDULE_TITLE"/>
		<result property="scheduleColor" column="SCHEDULE_COLOR"/>
		<result property="scheduleConts" column="SCHEDULE_CONTS"/>
		<result property="scheduleStartDate" column="SCHEDULE_START_DATE"/>
		<result property="scheduleEndDate" column="SCHEDULE_END_DATE"/>
		<result property="schedulePlace" column="SCHEDULE_PLACE"/>
		<result property="scheduleAlarm" column="SCHEDULE_ALARM"/>
	</resultMap>
	<select id="selectAllCompanySchedule" resultMap="scheduleResultMap">
		SELECT * FROM ALL_SCHEDULE_TBL ORDER BY SCHEDULE_START_DATE DESC
	</select>
	<select id="selectAllTeamSchedule" resultMap="scheduleResultMap">
		SELECT * FROM SCHEDULE_TBL WHERE EMPL_ID = #{emplId } ORDER BY SCHEDULE_START_DATE DESC
	</select>
	<select id="selectAllPersonalSchedule" resultMap="scheduleResultMap">
		SELECT * FROM SCHEDULE_TBL WHERE EMPL_ID = #{emplId } ORDER BY SCHEDULE_START_DATE DESC
	</select>	
	<insert id="insertCompanySchedule">
		INSERT INTO ALL_SCHEDULE_TBL VALUES(ALL_SCHEDULE_SEQ.NEXTVAL, #{scheduleTitle}, #{scheduleColor}, #{scheduleConts}, #{scheduleStartDate}, #{scheduleEndDate}, #{schedulePlace}, #{scheduleAlarm})
	</insert>
	<insert id="insertTeamSchedule">
		INSERT INTO SCHEDULE_TBL VALUES(SCHEDULE_SEQ.NEXTVAL, #{emplId}, #{scheduleCategory}, #{scheduleTitle}, #{scheduleColor}, #{scheduleConts}, #{scheduleStartDate}, #{scheduleEndDate}, #{schedulePlace}, #{scheduleAlarm})
	</insert>
	<insert id="insertScheduleToSub">
		INSERT INTO SCHEDULE_EMPL_TBL VALUES(SCHEDULE_SEQ.CURRVAL, #{emplId}, #{scheduleCategory})
	</insert>
	<insert id="insertPersonalSchedule">
		INSERT INTO SCHEDULE_TBL VALUES(SCHEDULE_SEQ.NEXTVAL, #{emplId}, #{scheduleCategory}, #{scheduleTitle}, #{scheduleColor}, #{scheduleConts}, #{scheduleStartDate}, #{scheduleEndDate}, #{schedulePlace}, #{scheduleAlarm})
	</insert>
</mapper>